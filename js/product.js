!function(){"use strict";var e={};e.lazyOnlyImgs=document.querySelectorAll("img.lazy:not(.zoom)"),e.lazyZoomImgs=document.querySelectorAll("img.lazy.zoom"),e.menu=document.querySelector("nav .menu"),e.menuToggle=document.querySelector("nav .menu-toggle"),e.modal=document.querySelector(".modal"),e.modalCvs=document.querySelector(".modal-cvs"),e.zoomOnlyImgs=document.querySelectorAll("img.zoom:not(.lazy)");var t=function(e,t){return e.forEach(function(e){return function(e,t){var n=document.createElement("img");n.setAttribute("src",e.getAttribute("data-src")),n.addEventListener("load",function(e,t,n){e.classList.add("loaded"),e.setAttribute("src",t.getAttribute("src")),e.removeAttribute("data-src"),n&&n(e)}.bind(null,e,n,t));var o=document.createElement("canvas"),a=o.getContext("2d"),d=[e.naturalWidth,e.naturalHeight];o.width=d[0],o.height=d[1],a.filter="blur(2px)",a.drawImage(e,0,0,d[0],d[1]),e.classList.contains("loaded")||e.setAttribute("src",o.toDataURL())}(e,t)})},n=!1,o=function t(){n?(document.body.classList.remove("modal-small-on"),e.menu.classList.remove("on"),e.modal.removeEventListener("click",t),n=!1):(document.body.classList.add("modal-small-on"),e.menu.classList.add("on"),e.modal.addEventListener("click",t),n=!0)},a=function(){e.menuToggle.addEventListener("click",o)},d=void 0,l=void 0,c=0,s=function(){document.body.classList.add("modal-big-on"),e.modal.classList.add("zoom"),e.modalCvs.classList.add("on")},i=function(){document.body.classList.remove("modal-big-on"),e.modal.classList.remove("zoom"),e.modalCvs.classList.remove("on")},r=function(){2===c&&(e.modal.removeEventListener("click",u),i(),c=0)},m=function(t){var n=[t.naturalWidth,t.naturalHeight];e.modalCvs.width=n[0],e.modalCvs.height=n[1],l.drawImage(t,0,0,n[0],n[1])},u=function t(n){0===c?(m(n.srcElement),e.modal.addEventListener("click",t),s(),(d=e.modalCvs.animate([{transform:"scale(0)"},{transform:"scale(1)"}],{duration:400,easing:"ease-out"})).addEventListener("finish",r),c++):1===c&&(d.reverse(),c++)},v=function t(n){c?(e.modal.addEventListener("click",t),i(),c=0):(m(n.srcElement),e.modal.addEventListener("click",t),s(),c=1)},g=function(t){l=e.modalCvs.getContext("2d"),void 0===Element.prototype.animate?t.forEach(function(e){return e.addEventListener("click",v)}):t.forEach(function(e){return e.addEventListener("click",u)})};window.addEventListener("load",function(){a(),t(e.lazyOnlyImgs),t(e.lazyZoomImgs,function(e){return g([e])}),g(e.zoomOnlyImgs)})}();